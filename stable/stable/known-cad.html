<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Stable Chest Pain – Known CAD</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/stable/style.css" />
</head>

<body>
  <div class="app-shell">
    <header class="app-header">
      <div>
        <h1 class="app-title">Known CAD</h1>
        <p class="app-subtitle">
          Stepwise selector: nonobstructive vs obstructive, then prior CABG if obstructive.
        </p>
      </div>
      <div class="app-meta">
        <a class="btn-secondary" href="/stable/">← Back</a>
      </div>
    </header>

    <main class="app-main">
      <section class="card card-inputs">
        <h2 class="card-title">Step 1</h2>

        <div class="form-grid">
          <a class="btn-primary btn-primary--full" href="/stable/modules/known_nonobstructive/index.html">
            Nonobstructive CAD (&lt;50%)
          </a>

          <button class="btn-secondary btn-secondary--full" id="btnObstructive" type="button">
            Obstructive CAD (≥50%)
          </button>

          <div id="cabgGate" class="callout" style="display:none; margin-top:0.75rem;">
            <strong>Step 2 (Obstructive CAD)</strong>
            <p class="micro-note" style="margin-top:0.35rem;">
              Prior CABG changes the recommended testing pathway.
            </p>

            <div class="form-grid" style="margin-top:0.6rem;">
              <a class="btn-primary btn-primary--full" href="/stable/modules/prior_cabg/index.html">
                Yes — Prior CABG
              </a>

              <a class="btn-secondary btn-secondary--full" href="/stable/modules/known_obstructive/index.html">
                No — No prior CABG
              </a>
            </div>
          </div>

          <div class="callout" style="margin-top:0.75rem;">
            <strong>Where INOCA fits</strong>
            <p class="micro-note" style="margin-top:0.35rem;">
              The INOCA pathway will branch from the known nonobstructive CAD module when persistent symptoms and nonobstructive findings suggest INOCA.
            </p>
          </div>
        </div>
      </section>

      <section class="card card-results">
        <h2 class="card-title">Next</h2>
        <div class="results-body">
          <p class="results-placeholder">
            Choose a branch to open the corresponding module. If a module isn’t built yet, you’ll see a placeholder until we add it.
          </p>
        </div>
      </section>
    </main>

    <footer class="app-footer">
      <p class="disclaimer">
        This tool is for educational and decision-support purposes only. It does not replace clinical judgment,
        institutional guidelines, or specialist consultation.
      </p>
    </footer>
  </div>

  <script>
    const btn = document.getElementById("btnObstructive");
    const gate = document.getElementById("cabgGate");
    btn.addEventListener("click", () => {
      gate.style.display = gate.style.display === "none" ? "" : "none";
      btn.textContent = gate.style.display === "none"
        ? "Obstructive CAD (≥50%)"
        : "Obstructive CAD (≥50%) — choose CABG history below";
    });
  </script>
</body>
</html>
